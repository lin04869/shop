"use strict";(self["webpackChunklenovo_shopping"]=self["webpackChunklenovo_shopping"]||[]).push([[479],{4479:function(t,s,e){e.r(s),e.d(s,{default:function(){return c}});e(4114);var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"front-root"},[s("header",{staticClass:"site-header"},[s("div",{staticClass:"header-left"},[s("div",{staticClass:"brand",on:{click:function(s){return t.$router.push("/front/home")}}},[s("div",{staticClass:"brand-title"},[t._v("联想")]),s("div",{staticClass:"brand-sub"},[t._v("Lenovo Shop")])])]),s("nav",{staticClass:"header-center"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/front/home",exact:""}},[t._v("首页")]),s("router-link",{staticClass:"nav-link",attrs:{to:"/front/orders"}},[t._v("订单")]),s("router-link",{staticClass:"nav-link",attrs:{to:"/front/cart"}},[t._v("购物车")])],1),s("div",{staticClass:"header-right"},[t.user?[s("el-dropdown",{attrs:{trigger:"click"},on:{command:t.onAuthCommand}},[s("span",{staticClass:"username"},[t._v(t._s(t.user.username)+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"person"}},[t._v("个人中心")]),s("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出登录")])],1)],1)]:[s("router-link",{staticClass:"auth-link",attrs:{to:"/login"}},[t._v("登录")]),s("router-link",{staticClass:"auth-link",attrs:{to:"/register"}},[t._v("注册")])]],2)]),s("div",{staticClass:"search-row"},[s("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索商品或商家...",clearable:"","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.searchQuery,callback:function(s){t.searchQuery=s},expression:"searchQuery"}}),s("el-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("搜索")])],1),s("router-view")],1)},a=[],n={name:"Front",data(){return{user:null,searchQuery:""}},created(){this.loadUser(),this.$watch("$route",(()=>{this.loadUser()}))},methods:{loadUser(){try{const t=localStorage.getItem("xm-user");this.user=t?JSON.parse(t):null}catch(t){this.user=null}},onAuthCommand(t){"logout"===t?(localStorage.removeItem("xm-user"),this.user=null,this.$message.success("已退出"),this.$router.push("/login")):"person"===t&&this.$router.push("/front/person")},onSearch(){const t=(this.searchQuery||"").trim();t?this.$router.push({path:"/front/search",query:{q:t}}):this.$message.warning("请输入搜索关键词")}}},o=n,l=e(1656),i=(0,l.A)(o,r,a,!1,null,"21b0834f",null),c=i.exports}}]);
//# sourceMappingURL=479.9e3a3d03.js.map