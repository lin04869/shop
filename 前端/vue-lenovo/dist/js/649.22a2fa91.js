"use strict";(self["webpackChunklenovo_shopping"]=self["webpackChunklenovo_shopping"]||[]).push([[649],{2649:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticStyle:{width:"75%",margin:"30px auto","border-radius":"20px"}},[e("div",{staticStyle:{height:"100px",padding:"0 10px",display:"flex","align-items":"center","border-radius":"25px","background-color":"white"}},[e("img",{staticStyle:{height:"60px",width:"60px","border-radius":"50%"},attrs:{src:t.businessData.avatar,alt:""}}),e("div",{staticStyle:{width:"220px",margin:"0 30px 0 15px","font-size":"20px","font-weight":"bold",display:"flex","align-items":"center"}},[e("div",{staticStyle:{height:"30px","line-height":"30px"}},[t._v(t._s(t.businessData.name))]),e("div",{staticStyle:{"margin-left":"10px"}},[t.user&&"USER"===t.user.role&&!t.isMember?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.joinMember}},[t._v("加入会员")]):t.user&&"USER"===t.user.role&&t.isMember?e("el-button",{attrs:{type:"text",size:"small",disabled:""}},[t._v("已是会员")]):t._e()],1)]),e("div",{staticStyle:{width:"150px",height:"100px",padding:"20px"}},[e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px",color:"#7F7F7FFF"}},[t._v("店铺电话")]),e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px"}},[t._v(t._s(t.businessData.phone))])]),e("div",{staticStyle:{width:"150px",height:"100px",padding:"20px"}},[e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px",color:"#7F7F7FFF"}},[t._v("店铺邮箱")]),e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px"}},[t._v(t._s(t.businessData.email))])]),e("div",{staticStyle:{width:"150px",height:"100px",padding:"20px"}},[e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px",color:"#7F7F7FFF"}},[t._v("店铺介绍")]),e("div",{staticStyle:{"font-size":"16px",height:"30px","line-height":"30px"}},[t._v(t._s(t.businessData.description))])])]),e("div",{staticStyle:{"border-radius":"20px",padding:"0 20px","background-color":"white","margin-top":"20px"}},[e("div",{staticStyle:{"font-size":"18px",color:"#000000FF","line-height":"80px","border-bottom":"#cccccc 1px solid"}},[t._v("本店所有商品（"+t._s(t.goodsData.length)+"件）")]),e("div",{staticStyle:{"margin-top":"20px"}},[e("el-row",t._l(t.goodsData,(function(s,i){return e("el-col",{key:i,staticStyle:{"margin-bottom":"20px"},attrs:{span:5}},[e("img",{staticStyle:{width:"100%",height:"150px","border-radius":"10px",border:"#cccccc 1px solid"},attrs:{src:s.img,alt:""},on:{click:function(e){return t.navTo("/front/detail?id="+s.id)}}}),e("div",{staticStyle:{"margin-top":"10px","font-weight":"500","font-size":"16px",width:"160px",color:"#000000FF","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[t._v(t._s(s.name))]),e("div",{staticStyle:{"margin-top":"5px","font-size":"20px",color:"#FF5000FF"}},[t._v("￥ "+t._s(s.price)),s.unit?e("span",[t._v(" "+t._s(s.unit))]):t._e()])])})),1)],1)])])])},a=[],o={data(){let t=this.$route.query.id;return{user:JSON.parse(localStorage.getItem("xm-user")||"{}"),businessId:t,goodsData:[],businessData:{},isMember:!1}},mounted(){this.loadBusiness(),this.loadGoods(),this.loadUserStatus()},methods:{loadBusiness(){this.$request.get("/business/selectById/"+this.businessId).then((t=>{"200"===t.code?this.businessData=t.data:this.$message.error(t.msg)}))},loadUserStatus(){let t=JSON.parse(localStorage.getItem("xm-user")||"{}");t&&t.id&&this.$request.get("/user/selectById/"+t.id).then((e=>{if("200"===e.code&&e.data){this.isMember=1===e.data.isMember;let s=e.data;s.token=s.token||t.token,s.role=s.role||t.role;const i=Object.assign({},t,s);this.user=i,localStorage.setItem("xm-user",JSON.stringify(i))}}))},loadGoods(){this.$request.get("/goods/selectByBusinessId?id="+this.businessId).then((t=>{"200"===t.code?this.goodsData=t.data:this.$message.error(t.msg)}))},navTo(t){location.href=t},joinMember(){this.$request.post("/business/member/join").then((t=>{"200"===t.code?(this.$message.success("加入会员成功！"),this.loadUserStatus()):this.$message.error(t.msg)}))}}},r=o,n=s(1656),l=(0,n.A)(r,i,a,!1,null,"4c03b059",null),d=l.exports}}]);
//# sourceMappingURL=649.22a2fa91.js.map