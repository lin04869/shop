"use strict";(self["webpackChunklenovo_shopping"]=self["webpackChunklenovo_shopping"]||[]).push([[922],{4922:function(e,r,s){s.r(r),s.d(r,{default:function(){return m}});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"page-bg"},[r("el-card",{staticClass:"auth-card",attrs:{shadow:"hover"}},[r("div",{staticClass:"card-head"},[r("div",{staticClass:"logo"},[e._v("创建账号")]),r("div",{staticClass:"subtitle"},[e._v("欢迎加入 Lenovo Shop")])]),r("el-form",{ref:"regRef",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"密码","show-password":""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),r("el-form-item",{attrs:{prop:"confirm"}},[r("el-input",{attrs:{placeholder:"确认密码","show-password":""},model:{value:e.form.confirm,callback:function(r){e.$set(e.form,"confirm",r)},expression:"form.confirm"}})],1),r("el-form-item",{attrs:{prop:"role"}},[r("el-select",{attrs:{placeholder:"选择身份"},model:{value:e.form.role,callback:function(r){e.$set(e.form,"role",r)},expression:"form.role"}},[r("el-option",{attrs:{label:"普通用户",value:"USER"}}),r("el-option",{attrs:{label:"商家管理员",value:"BUSINESS"}})],1)],1),r("el-form-item",[r("el-button",{staticClass:"full-btn",attrs:{type:"primary","native-type":"button",loading:e.loading},on:{click:e.onRegister}},[e._v("注 册")])],1),r("div",{staticClass:"small-links"},[e._v(" 已有账号？ "),r("router-link",{attrs:{to:"/login"}},[e._v("去登录")])],1)],1)],1)],1)},o=[],a=(s(4114),{name:"Register",data(){return{loading:!1,form:{username:"",password:"",confirm:"",role:""},rules:{username:[{required:!0,message:"请填写用户名",trigger:"blur"}],password:[{required:!0,message:"请填写密码",trigger:"blur"}],confirm:[{validator:(e,r,s)=>{r!==this.form.password?s(new Error("两次密码不一致")):s()},trigger:"blur"}],role:[{required:!0,message:"请选择身份",trigger:"change"}]}}},methods:{onRegister(){this.$refs.regRef.validate((e=>{e&&(this.loading=!0,this.$request.post("/register",this.form).then((e=>{this.loading=!1,"200"===e.code?(this.$message.success("注册成功，请登录"),this.$router.push("/login")):this.$message.error(e.msg||"注册失败")})).catch((()=>{this.loading=!1})))}))}}}),l=a,i=s(1656),n=(0,i.A)(l,t,o,!1,null,"db33f7ac",null),m=n.exports}}]);
//# sourceMappingURL=922.758485ab.js.map